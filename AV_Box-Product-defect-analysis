!pip install git+https://github.com/Hsins/mpl-tc-fonts.git

import mpl_tc_fonts 
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from google.colab import files
uploaded = files.upload()

AV_Box_PD = pd.read_csv('issues.csv', encoding = 'big5')

print(AV_Box_PD.info())

#ğŸ“Šã€é¡Œçµ„ä¸€ï¼šè³‡æ–™ç¸½è¦½èˆ‡æ¸…ç†ã€‘
#è³‡æ–™ä¸­æœ‰å“ªäº›æ¬„ä½æœ‰ç¼ºå¤±å€¼ï¼Ÿè«‹åˆ—å‡ºç¼ºå¤±æ¯”ä¾‹æœ€é«˜çš„å‰äº”å€‹æ¬„ä½ã€‚

AV_Box_PD_FallData = (AV_Box_PD.isnull().sum())
print(AV_Box_PD_FallData.sort_values(ascending=False).head())

#çµ±è¨ˆæ¯å€‹ã€Œç‹€æ…‹ã€çš„è­°é¡Œæ•¸é‡ï¼ˆå¦‚ï¼šOpenã€Closedã€In Progress ç­‰ï¼‰ï¼Œä¸¦ç”¨é•·æ¢åœ–å‘ˆç¾ã€‚

plt.figure(num=1)
sns.countplot(x='ç‹€æ…‹', data=AV_Box_PD)
plt.xticks(rotation=45)
plt.title('AV_Box Current Issue Status Count')
plt.show()

#ã€Œé ä¼°å·¥æ™‚ã€å’Œã€Œè€—ç”¨å·¥æ™‚ã€æ¬„ä½ä¸­ï¼Œæœ‰æ²’æœ‰æ˜é¡¯ç•°å¸¸å€¼ï¼ˆå¦‚æ¥µç«¯é«˜æˆ–è² æ•¸ï¼‰ï¼Ÿæ‰¾å‡ºé€™äº›ç•°å¸¸è³‡æ–™ã€‚

#ğŸ“ˆã€é¡Œçµ„äºŒï¼šé€²åº¦èˆ‡æ•ˆèƒ½åˆ†æã€‘
#è¨ˆç®—æ¯å€‹è¢«åˆ†æ´¾è€…ï¼ˆè¢«åˆ†æ´¾è€…ï¼‰è™•ç†éçš„è­°é¡Œç¸½æ•¸ã€å¹³å‡å®Œæˆç™¾åˆ†æ¯”èˆ‡å¹³å‡è€—ç”¨å·¥æ™‚ï¼Œæ‰¾å‡ºå‰äº”åçš„ã€Œæœ€æœ‰æ•ˆç‡ã€äººå“¡ï¼ˆå¯è‡ªè¡Œå®šç¾©æ•ˆç‡ï¼‰ã€‚

#å°‡ã€Œå»ºç«‹æ—¥æœŸã€èˆ‡ã€ŒçµæŸæ—¥æœŸã€è½‰æ›æˆæ™‚é–“å·®ï¼ˆè­°é¡Œè™•ç†å¤©æ•¸ï¼‰ï¼Œåˆ†ææ•´é«”è™•ç†é€Ÿåº¦çš„åˆ†å¸ƒæƒ…å½¢ã€‚
AV_Box_PD['å»ºç«‹æ—¥æœŸ']=pd.to_datetime(AV_Box_PD['å»ºç«‹æ—¥æœŸ'], format='%Y-%m-%d %H:%M')
AV_Box_PD['çµæŸæ—¥æœŸ']=pd.to_datetime(AV_Box_PD['çµæŸæ—¥æœŸ'], format='%Y-%m-%d %H:%M')
AV_Box_PD['è™•ç†å¤©æ•¸']=(AV_Box_PD['çµæŸæ—¥æœŸ']-AV_Box_PD['å»ºç«‹æ—¥æœŸ']).dt.days

plt.figure(num=2)
sns.violinplot(x=AV_Box_PD['è™•ç†å¤©æ•¸'])
plt.xlabel('è™•ç†å¤©æ•¸ï¼ˆå¤©ï¼‰')
plt.ylabel('Density')
plt.title('è­°é¡Œè™•ç†å¤©æ•¸å°æç´åœ–')
plt.show()

#è«‹æ¯”è¼ƒä¸åŒã€Œåˆ†é¡ã€ä¸‹çš„è­°é¡Œï¼Œå¹³å‡è€—ç”¨å·¥æ™‚çš„å·®ç•°ï¼Œç”¨é©åˆçš„åœ–å½¢è¦–è¦ºåŒ–ã€‚

#ğŸ“Œã€é¡Œçµ„ä¸‰ï¼šå•é¡Œè¿½è¹¤èˆ‡å½±éŸ¿åˆ†æã€‘
#çµ±è¨ˆã€ŒPRM Severityã€çš„æ¯å€‹ç­‰ç´šä¸­ï¼Œå„è‡ªæœ‰å¤šå°‘è­°é¡Œï¼Ÿä¸¦èˆ‡ã€ŒSeverityã€æ¬„ä½çš„çµ±è¨ˆçµæœåšæ¯”è¼ƒï¼ˆå…©è€…æ˜¯å¦ä¸€è‡´ï¼Ÿï¼‰ã€‚

plt.figure(num=3)
sns.countplot(x=AV_Box_PD['PRM Severity'], data=AV_Box_PD)
plt.title('Distribution of Issues by PRM Severity')
plt.figure(num=4)
sns.countplot(x=AV_Box_PD['Severity'], data=AV_Box_PD)
plt.title('Issue Count by Severity Level')

#æ˜¯å¦æœ‰å“ªå¹¾å€‹ã€ŒIssue Detected Versionã€å¸¸å¸¸ç”¢ç”Ÿé«˜åš´é‡ç­‰ç´šï¼ˆSeverity = High æˆ– Criticalï¼‰çš„è­°é¡Œï¼Ÿ

print(AV_Box_PD['Issue Detected Version'].unique())
version_mapp = {
    'AVBox Version: V0.4.2 Remote Version V0.4.2': 'v0.4.2',
    'AVBox Version: V0.4.1 Remote Version V0.4.1': 'v0.4.1',
    'AVBox Version: V0.4.0 Remote Version V0.4.0': 'v0.4.0',
    'v0.3.5': 'v0.3.5',
    'AVBox Version: V0.3.5 Remote Version V0.3.5': 'v0.3.5',
    'v0.3.2': 'v0.3.2',
    'AVBox Version: V0.3.2 Remote Version V0.3.2': 'v0.3.2',
    'AVBox Version: V0.3.1 Remote Version V0.3.1': 'v0.3.1',
    'AVBox Version: V0.3.0 Remote Version V0.3.0': 'v0.3.0',
    'v0.3.0': 'v0.3.0',
    'AVBox Version: V0.3.0 &  Remote Version V0.3.0': 'v0.3.0',
    'AVBox Version: Bootloader V0.2.0 & APROM V0.2.0 Remote Version V0.2.0': 'v0.2.0',
    'v0.2.0': 'v0.2.0',
    'Remote Version V0.2.0': 'v0.2.0',
    'AVBox v0.2.0;Remote v0.2.0': 'v0.2.0',
    'v0.1.4': 'v0.1.4',
    '0.1.4': 'v0.1.4',
    'AVBox Version: Bootloader V0.2.0 & APROM V0.2.0;Remote Version V0.2.0': 'v0.2.0',
    'APP: XD001-M-P-APP_AVBOX-V0.1.1; REMOTE: XD001_REMOTE_V0.1.1': 'v0.1.1',
    'APP: XD001-M-P-APP_AVBOX-V0.1.00_01D4569C; REMOTE: XD001_REMOTE_V0.1.0': 'v0.1.0',
    'APP: XD001-M-P-APP_AVBOX-V0.1.00_01D4569C ;REMOTE: XD001_REMOTE_V0.1.0': 'v0.1.0',
    'APP: XD001-M-P-APP_AVBOX-V0.1.00_01D4569C;REMOTE: XD001_REMOTE_V0.1.0': 'v0.1.0',
    'XD001-M-P-APP_AVBOX-V0.1.00_01D4569C, XD001_REMOTE_V0.1.0': 'v0.1.0'}
AV_Box_PD['Issue Detected Clean Version'] = AV_Box_PD['Issue Detected Version'].str.strip().str.replace('ï¼Œ', ',', regex=False) .replace(version_mapp)
print(AV_Box_PD['Issue Detected Clean Version'].unique())

severity_count = pd.crosstab(AV_Box_PD['Issue Detected Clean Version'], AV_Box_PD['Severity'])
print(severity_count)

plt.figure(num=5)
severity_count.plot(kind='bar', stacked=True, figsize=(12,6), colormap='Set2')
plt.title('Severity Distribution by Issue Detected Version')
plt.xlabel('Issue Detected Version')
plt.ylabel('Number of Issues')
plt.xticks(rotation=45, ha='right')
plt.legend(title='Severity')
plt.tight_layout()
plt.show()

#è«‹åˆ†æä¸åŒã€ŒProject impact - Scheduleã€ç­‰ç´šå°ã€Œå®Œæˆç™¾åˆ†æ¯”ã€èˆ‡ã€Œè™•ç†å¤©æ•¸ã€çš„å½±éŸ¿ã€‚
